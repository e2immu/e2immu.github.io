<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://www.e2immu.org/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://www.e2immu.org/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><link rel=stylesheet href=https://www.e2immu.org/main.d6cfaba04c61816424a0af4543a9e49aaf840afc4980bf26607c1a3f40b12fe9ee8ee464d2a202d3f6516469e4ac96ffefa35b5a6e53e37afaaecac1fc65c6fc.css integrity="sha512-1s+roExhgWQkoK9FQ6nkmq+ECvxJgL8mYHwaP0CxL+nujuRk0qIC0/ZRZGnkrJb/76NbWm5T43r6rsrB/GXG/A==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>FAQ - e2immu</title><meta name=description content="Answers to frequently asked or important questions."><link rel=canonical href=https://www.e2immu.org/docs/help/faq/><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/doks.png"><meta name=twitter:title content="FAQ"><meta name=twitter:description content="Answers to frequently asked or important questions."><meta name=twitter:site content="@e2immu.org"><meta name=twitter:creator content="@e2immu.org"><meta property="og:title" content="FAQ"><meta property="og:description" content="Answers to frequently asked or important questions."><meta property="og:type" content="article"><meta property="og:url" content="/docs/help/faq/"><meta property="og:image" content="/doks.png"><meta property="article:published_time" content="2020-10-06T08:49:31+00:00"><meta property="article:modified_time" content="2020-10-06T08:49:31+00:00"><meta property="og:site_name" content="e2immu"><meta property="article:publisher" content="https://www.facebook.com/xxx"><meta property="article:author" content="https://www.facebook.com/xxx"><meta property="og:locale" content="en_US"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/www.e2immu.org\/"},{"@type":"ListItem","position":3,"name":"Docs","item":"https:\/\/www.e2immu.org\/\/docs\/"},{"@type":"ListItem","position":4,"name":"Help","item":"https:\/\/www.e2immu.org\/\/docs\/help\/"},{"@type":"ListItem","position":5,"name":"Faq","item":"https:\/\/www.e2immu.org\/\/docs\/help\/faq\/"}]}</script><meta name=theme-color content="#fff"><link rel=apple-touch-icon sizes=180x180 href=https://www.e2immu.org/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://www.e2immu.org/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://www.e2immu.org/favicon-16x16.png><link rel=manifest href=https://www.e2immu.org/site.webmanifest></head><body class="docs single"><div class="header-bar fixed-top"></div><header class="navbar fixed-top navbar-expand-md navbar-light"><div class=container><input class="menu-btn order-0" type=checkbox id=menu-btn>
<label class="menu-icon d-md-none" for=menu-btn><span class=navicon></span></label><a class="navbar-brand order-1 order-md-0 me-auto" href=https://www.e2immu.org/>e2immu</a>
<button id=mode class="btn btn-link order-2 order-md-4" type=button aria-label="Toggle mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button><ul class="navbar-nav social-nav order-3 order-md-5"><li class=nav-item><a class=nav-link href=https://twitter.com/e2immu.org><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg><span class="ms-2 visually-hidden">Twitter</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/e2immu><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><span class="ms-2 visually-hidden">GitHub</span></a></li></ul><div class="collapse navbar-collapse order-4 order-md-1"><ul class="navbar-nav main-nav me-auto order-5 order-md-2"><li class="nav-item active"><a class=nav-link href=https://www.e2immu.org/docs/start/introduction/>Docs</a></li><li class=nav-item><a class=nav-link href=https://www.e2immu.org/blog/>Blog</a></li></ul><div class="break order-6 d-md-none"></div><form class="navbar-form flex-grow-1 order-7 order-md-3"><input id=userinput class="form-control is-search" type=search placeholder="Search docs..." aria-label="Search docs..." autocomplete=off><div id=suggestions class="shadow bg-white rounded"></div></form></div></div></header><div class="wrap container" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><h3>Start</h3><ul class=list-unstyled><li><a class=docs-link href=https://www.e2immu.org/docs/start/introduction/>Introduction</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/start/concepts/>Concepts</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/start/analyser/>Analyser</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/start/buildinstall/>Build, install, run</a></li></ul><h3>Help</h3><ul class=list-unstyled><li><a class=docs-link href=https://www.e2immu.org/docs/help/manuals/>Manuals</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/help/javadocs/>Javadoc</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/help/plugins/>Plugins</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/help/dependencies/>Dependencies</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/help/contributing/>Contributing</a></li><li><a class=docs-link href=https://www.e2immu.org/docs/help/reporting-bugs/>Reporting bugs</a></li><li><a class="docs-link active" href=https://www.e2immu.org/docs/help/faq/>FAQ</a></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#what-is-e2immu>What is e2immu?</a></li><li><a href=#is-e2immu-secure>Is e2immu secure?</a></li><li><a href=#why-the-lgpl-license>Why the LGPL license?</a></li><li><a href=#technical-questions>Technical questions</a><ul><li><a href=#illegalstateexception>IllegalStateException</a></li><li><a href=#more-than-10-iterations-needed>More than 10 iterations needed</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><h1>FAQ</h1><p class=lead>Answers to frequently asked or important questions.</p><h2 id=what-is-e2immu>What is e2immu?<a href=#what-is-e2immu class=anchor aria-hidden=true>#</a></h2><p><em>e2immu</em> is a static code analyser for modern Java. It aims to help you write better code by
making you aware of unwanted constructs, possible causes for exceptions etc. Even if it includes many &ldquo;standard&rdquo;
warnings, <em>e2immu</em> is not a general code analyser:
it focuses on modification and immutability. It is able to detect that classes are immutable in practice, or not, and
why they are not.</p><p>It also provides a practical definition of such immutability, called &ldquo;effective immutability&rdquo;. It can detect that
classes are <em>eventually</em> immutable, i.e., they become effectively immutable after an initialisation phase. It provides
some out-of-the-box classes that help with making your own code eventually immutable.</p><p>Ideally, the results of the analyser are shown directly in your programming environment. At the moment, a plugin for
IntelliJ is in development. Support for Eclipse and Visual Studio Code are planned.</p><h2 id=is-e2immu-secure>Is e2immu secure?<a href=#is-e2immu-secure class=anchor aria-hidden=true>#</a></h2><p>Interpreting this as &ldquo;Is my source code safe?&rdquo;, the answer is: Yes!</p><ul><li>The analyser reads your code and your jars; nothing can be done about that.</li><li>However, the analyser runs locally, in your environment. It is not Software as a Service. You have to install it
(and currently, also build it first).</li><li>On your request, the analyser can write out <em>annotationXml</em> and <em>annotatedAPI</em> files, to a (build) folder of your choice.</li><li>On your request, the analyser can upload to the annotations (not the source!) to an annotation manager of your choice.
The one provided in the project, <code>e2immu/annotation-manager</code>, can play that role.
You control where it runs, if it runs.</li><li>In debug mode, the analyser can, on your request, write out an annotated version of you source code.</li></ul><p>The analyser is fully open source, so you can verify these claims.
It relies on a small number of other open source projects (<a href=https://www.e2immu.org/docs/help/dependencies/>dependencies →</a> and <a href=https://www.e2immu.org/docs/help/plugins/>plugins →</a>), which you then should verify too.</p><h2 id=why-the-lgpl-license>Why the LGPL license?<a href=#why-the-lgpl-license class=anchor aria-hidden=true>#</a></h2><p>It allows you to write and distribute commercial software that incorporates the analyser.
Because of LGPL, I&rsquo;m hoping that everyone can benefit from your improvements to the analyser.</p><h2 id=technical-questions>Technical questions<a href=#technical-questions class=anchor aria-hidden=true>#</a></h2><h3 id=illegalstateexception>IllegalStateException<a href=#illegalstateexception class=anchor aria-hidden=true>#</a></h3><p>The following exception is one of the two more common problems in the analyser:</p><pre><code>07:50:04.282 [Test worker] ERROR org.e2immu.analyser.util.EventuallyFinalExtension - Overwriting effectively value: old: nullable instance type String, new object.toString()
07:50:04.282 [Test worker] WARN org.e2immu.analyser.analyser.StatementAnalyser - Caught exception while analysing statement 3 of org.e2immu.analyser.testexample.Store_0.flexible(java.lang.Object,long)
07:50:04.282 [Test worker] WARN org.e2immu.analyser.analyser.StatementAnalyser - Caught exception while analysing block 0 of: org.e2immu.analyser.testexample.Store_0.flexible(java.lang.Object,long)
07:50:04.282 [Test worker] WARN org.e2immu.analyser.analyser.MethodAnalyser - Caught exception in method analyser: org.e2immu.analyser.testexample.Store_0.flexible(java.lang.Object,long)
07:50:04.282 [Test worker] WARN org.e2immu.analyser.parser.Parser - Caught runtime exception while analysing type org.e2immu.analyser.testexample.Store_0

Trying to overwrite final value
java.lang.IllegalStateException: Trying to overwrite final value
	at org.e2immu.support.EventuallyFinal.setFinal(EventuallyFinal.java:36)
	at org.e2immu.analyser.util.EventuallyFinalExtension.setFinalAllowEquals(EventuallyFinalExtension.java:35)
</code></pre><p>The exception shows that because of internal problems, the analyser violates the core rule that once a decision on a topic has been made, it can never be changed anymore. The warning lines show which part of the source code caused the problem; the error line shows the competing values.</p><h3 id=more-than-10-iterations-needed>More than 10 iterations needed<a href=#more-than-10-iterations-needed class=anchor aria-hidden=true>#</a></h3><p>The second common exception is the &ldquo;More than 10 iterations needed&rdquo; one, really the opposite of the former.
It indicates that for a certain topic, no decision was reached, and delays kept coming iteration after iteration.
The cause is typically more difficult to pinpoint, and a <em>delay report</em> is written in logger warnings.</p><pre><code>java.lang.UnsupportedOperationException: More than 10 iterations needed for primary type org.e2immu.kvstore.Store?
        at org.e2immu.analyser.analyser.PrimaryTypeAnalyser.analyse(PrimaryTypeAnalyser.java:203)
        at org.e2immu.analyser.parser.Parser.analyseSortedType(Parser.java:191)
</code></pre><p class=edit-page><a href=https://github.com/e2immu/e2immu-site/blob/main/content/docs/help/faq.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></p><div class="docs-navigation d-flex justify-content-between"><a href=https://www.e2immu.org/docs/help/reporting-bugs/><div class="card my-1"><div class="card-body py-2">&larr; Reporting bugs</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://github.com/>GitHub</a>, <a href=https://gohugo.io/>Hugo</a>, and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=https://www.e2immu.org/js/highlight.min.c3931948f526af1660500afab63a1c5876429a9d73fe202c24138438785ffc812c11adb8234229f1ff2a6be15b1e9ff3af31eebaacf9c8130e0cfa4fe96cdf59.js integrity="sha512-w5MZSPUmrxZgUAr6tjocWHZCmp1z/iAsJBOEOHhf/IEsEa24I0Ip8f8qa+FbHp/zrzHuuqz5yBMODPpP6WzfWQ==" crossorigin=anonymous defer></script><script src=https://www.e2immu.org/main.min.7ab523108435955765bcb88a0ee704f412ba01646b5478e84f3b9feb24f0ce750a14c3f7bd9a62408fe21e41996d361a9eb29f77e85dfe77b7e17f7623bd3a97.js integrity="sha512-erUjEIQ1lVdlvLiKDucE9BK6AWRrVHjoTzuf6yTwznUKFMP3vZpiQI/iHkGZbTYanrKfd+hd/ne34X92I706lw==" crossorigin=anonymous defer></script><script src=https://www.e2immu.org/index.min.e18969dfe1f7755b46bfecb5b98876474b7fbf8065dce764cf8753da4ff8d7a36b53702ac7c430b370c4e38a3283547e42dcfc1c747f87bc02deffb60789769a.js integrity="sha512-4Ylp3+H3dVtGv+y1uYh2R0t/v4Bl3Odkz4dT2k/416NrU3Aqx8Qws3DE44oyg1R+Qtz8HHR/h7wC3v+2B4l2mg==" crossorigin=anonymous defer></script></body></html>